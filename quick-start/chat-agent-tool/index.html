
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Langroid LLM App Development Framework">
      
      
      
        <link rel="canonical" href="https://langroid.github.io/langroid/quick-start/chat-agent-tool/">
      
      
        <link rel="prev" href="../three-agent-chat-num/">
      
      
        <link rel="next" href="../three-agent-chat-num-router/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../assets/orange-logo-lambda-563.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.2">
    
    
      
        <title>Agent with Tools/Functions - langroid</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.d7758b05.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#a-chat-agent-equipped-with-a-toolfunction-call" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="langroid" class="md-header__button md-logo" aria-label="langroid" data-md-component="logo">
      
  <img src="../../assets/orange-logo-lambda-563.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            langroid
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Agent with Tools/Functions
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/langroid/langroid" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    langroid/langroid
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../blog/" class="md-tabs__link">
        
  
    
  
  Blog

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="../" class="md-tabs__link">
        
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../FAQ/" class="md-tabs__link">
        
  
    
  
  FAQ

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../notes/overview/" class="md-tabs__link">
          
  
  Notes-Updates

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../examples/guide/" class="md-tabs__link">
          
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tutorials/langroid-tour/" class="md-tabs__link">
          
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/" class="md-tabs__link">
          
  
  Code/API Docs

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="langroid" class="md-nav__button md-logo" aria-label="langroid" data-md-component="logo">
      
  <img src="../../assets/orange-logo-lambda-563.png" alt="logo">

    </a>
    langroid
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/langroid/langroid" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    langroid/langroid
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../llm-interaction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LLM interaction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chat-agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simple Chat Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../multi-agent-task-delegation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task Delegation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../two-agent-chat-num/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Two Agent Chat
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../three-agent-chat-num/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Three Agent Chat
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Agent with Tools/Functions
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Agent with Tools/Functions
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tools-plugins-function-calling" class="md-nav__link">
    <span class="md-ellipsis">
      Tools, plugins, function-calling
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-find-the-smallest-number-in-a-list" class="md-nav__link">
    <span class="md-ellipsis">
      Example: find the smallest number in a list
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-the-tool-as-a-toolmessage" class="md-nav__link">
    <span class="md-ellipsis">
      Define the tool as a ToolMessage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-the-chatagent-with-the-probe-method" class="md-nav__link">
    <span class="md-ellipsis">
      Define the ChatAgent, with the probe method
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enable-the-spy_game_agent-to-handle-the-probe-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Enable the spy_game_agent to handle the probe tool
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-up-the-task-and-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      Set up the task and instructions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      See also
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../three-agent-chat-num-router/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Three Agents, with Routing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chat-agent-docs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agent with Retrieval
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../FAQ/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Notes-Updates
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Notes-Updates
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/xml-tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    XML-based Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/async-streaming/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Async Streaming
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/knowledge-graphs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Knowledge Graphs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/gemini/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gemini LLMs, Embeddings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/llm-pdf-parser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LLM-based Pdf Parsing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/large-tool-results/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Large Tool Results
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/glhf-chat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GLHF.chat Support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/structured-output/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structured Output
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/tool-message-handler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tool Handlers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/task-termination/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task Termination
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/llama-cpp-embeddings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Llama.cpp Embeddings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/azure-openai-models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure OpenAI models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/custom-azure-client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Azure OpenAI client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/enriching-for-retrieval/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enriching Chunks for Retrieval
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/reasoning-content/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reasoning Content
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/weaviate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Weaviate
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/handle-llm-no-tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Handling LLM Non-Tool Messages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/pgvector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PGVector
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/pinecone/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pinecone
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/tavily_search/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tavily Search Tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/marker-pdf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Marker Pdf Parser
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/url_loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    URLLoader
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/crawl4ai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Crawl4AI Crawler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/langdb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LangDB AI Gateway
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/portkey/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Portkey AI Gateway
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/markitdown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Markitdown Parsers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/litellm-proxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LiteLLM Proxy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/chunking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chunking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/file-input/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Image, PDF Input
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/mcp-tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MCP Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/code-injection-protection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code-Injection Protection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/task-tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TaskTool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/qdrant-resource-cleanup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Local Qdrant VectorDB Cleanup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/openai-http-client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAI HTTP Client Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/openai-client-caching/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAI Client Caching
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/cross-encoder.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cross-Encoder Reranking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/html-logger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task Logs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes/pydantic-v2-migration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pydantic v2 Migration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/agent-tree/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hierarchical Agent Computation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Demos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Demos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../demos/targeting/audience-targeting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Audience Targeting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/langroid-tour/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Langroid Tour
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/supported-models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported LLMs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/local-llm-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Local LLM Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/non-openai-llms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Non-OpenAI LLMs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/postgresql-agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SQLChatAgent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/llm-usage-options/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LLM Usage Options
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Code/API Docs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Code/API Docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    langroid
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1" id="__nav_8_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1">
            <span class="md-nav__icon md-icon"></span>
            langroid
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/agent/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    agent
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_1" id="__nav_8_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_1">
            <span class="md-nav__icon md-icon"></span>
            agent
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/batch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    batch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/agent/callbacks/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    callbacks
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_1_3" id="__nav_8_1_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_1_3">
            <span class="md-nav__icon md-icon"></span>
            callbacks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/callbacks/chainlit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chainlit
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/chat_agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chat_agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/chat_document/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chat_document
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/done_sequence_parser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    done_sequence_parser
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/openai_assistant/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    openai_assistant
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/agent/special/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    special
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_1_8" id="__nav_8_1_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_1_8">
            <span class="md-nav__icon md-icon"></span>
            special
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_8_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/agent/special/arangodb/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    arangodb
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_1_8_1" id="__nav_8_1_1_8_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_8_1_1_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_1_8_1">
            <span class="md-nav__icon md-icon"></span>
            arangodb
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/arangodb/arangodb_agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    arangodb_agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/arangodb/system_messages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    system_messages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/arangodb/tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/arangodb/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/doc_chat_agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    doc_chat_agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/lance_doc_chat_agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lance_doc_chat_agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_8_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/agent/special/lance_rag/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    lance_rag
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_1_8_4" id="__nav_8_1_1_8_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_8_1_1_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_1_8_4">
            <span class="md-nav__icon md-icon"></span>
            lance_rag
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/lance_rag/critic_agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    critic_agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/lance_rag/lance_rag_task/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lance_rag_task
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/lance_rag/query_planner_agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    query_planner_agent
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/lance_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lance_tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_8_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/agent/special/neo4j/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    neo4j
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_1_8_6" id="__nav_8_1_1_8_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_8_1_1_8_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_1_8_6">
            <span class="md-nav__icon md-icon"></span>
            neo4j
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/neo4j/csv_kg_chat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    csv_kg_chat
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/neo4j/neo4j_chat_agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    neo4j_chat_agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/neo4j/system_messages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    system_messages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/neo4j/tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/relevance_extractor_agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    relevance_extractor_agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/retriever_agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    retriever_agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_8_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/agent/special/sql/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    sql
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_1_8_9" id="__nav_8_1_1_8_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_8_1_1_8_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_1_8_9">
            <span class="md-nav__icon md-icon"></span>
            sql
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/sql/sql_chat_agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sql_chat_agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_8_9_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/agent/special/sql/utils/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_1_8_9_2" id="__nav_8_1_1_8_9_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="6" aria-labelledby="__nav_8_1_1_8_9_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_1_8_9_2">
            <span class="md-nav__icon md-icon"></span>
            utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/sql/utils/description_extractors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    description_extractors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/sql/utils/populate_metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    populate_metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/sql/utils/system_message/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    system_message
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/sql/utils/tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/special/table_chat_agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    table_chat_agent
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/task/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    task
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/tool_message/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tool_message
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/agent/tools/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    tools
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_1_11" id="__nav_8_1_1_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_1_11">
            <span class="md-nav__icon md-icon"></span>
            tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/tools/duckduckgo_search_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    duckduckgo_search_tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/tools/exa_search_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    exa_search_tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/tools/file_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    file_tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/tools/google_search_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    google_search_tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_11_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/agent/tools/mcp/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    mcp
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_1_11_5" id="__nav_8_1_1_11_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_8_1_1_11_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_1_11_5">
            <span class="md-nav__icon md-icon"></span>
            mcp
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/tools/mcp/decorators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    decorators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/tools/mcp/fastmcp_client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fastmcp_client
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/tools/metaphor_search_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    metaphor_search_tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/tools/orchestration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    orchestration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/tools/recipient_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    recipient_tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/tools/retrieval_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    retrieval_tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/tools/rewind_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rewind_tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/tools/segment_extract_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    segment_extract_tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/tools/task_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    task_tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/tools/tavily_search_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tavily_search_tool
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/agent/xml_tool_message/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    xml_tool_message
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/cachedb/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    cachedb
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_2" id="__nav_8_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_2">
            <span class="md-nav__icon md-icon"></span>
            cachedb
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/cachedb/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/cachedb/redis_cachedb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    redis_cachedb
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/embedding_models/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    embedding_models
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_3" id="__nav_8_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_3">
            <span class="md-nav__icon md-icon"></span>
            embedding_models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/embedding_models/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/embedding_models/models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/embedding_models/protoc/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    protoc
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_3_3" id="__nav_8_1_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_3_3">
            <span class="md-nav__icon md-icon"></span>
            protoc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/embedding_models/protoc/embeddings_pb2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    embeddings_pb2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/embedding_models/protoc/embeddings_pb2_grpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    embeddings_pb2_grpc
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/embedding_models/remote_embeds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    remote_embeds
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    exceptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/language_models/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    language_models
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_5" id="__nav_8_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_5">
            <span class="md-nav__icon md-icon"></span>
            language_models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/language_models/azure_openai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    azure_openai
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/language_models/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/language_models/client_cache/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    client_cache
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/language_models/config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/language_models/mock_lm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mock_lm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/language_models/model_info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    model_info
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/language_models/openai_gpt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    openai_gpt
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_5_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/language_models/prompt_formatter/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    prompt_formatter
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_5_8" id="__nav_8_1_5_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_5_8">
            <span class="md-nav__icon md-icon"></span>
            prompt_formatter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/language_models/prompt_formatter/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/language_models/prompt_formatter/hf_formatter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hf_formatter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/language_models/prompt_formatter/llama2_formatter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    llama2_formatter
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/language_models/provider_params/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    provider_params
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/language_models/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/mytypes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mytypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/parsing/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    parsing
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_7" id="__nav_8_1_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_7">
            <span class="md-nav__icon md-icon"></span>
            parsing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/agent_chats/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    agent_chats
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/code_parser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    code_parser
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/document_parser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    document_parser
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/file_attachment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    file_attachment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/md_parser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    md_parser
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/para_sentence_split/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    para_sentence_split
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/parse_json/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    parse_json
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/parser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    parser
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/pdf_utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pdf_utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/repo_loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    repo_loader
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/routing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    routing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/search/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    search
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/spider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    spider
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/table_loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    table_loader
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/url_loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    url_loader
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/urls/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    urls
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/parsing/web_search/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    web_search
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/prompts/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    prompts
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_8" id="__nav_8_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_8">
            <span class="md-nav__icon md-icon"></span>
            prompts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/prompts/dialog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dialog
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/prompts/prompts_config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    prompts_config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/prompts/templates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    templates
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/pydantic_v1/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    pydantic_v1
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_9" id="__nav_8_1_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_9">
            <span class="md-nav__icon md-icon"></span>
            pydantic_v1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/pydantic_v1/main/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    main
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/utils/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_10" id="__nav_8_1_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_10">
            <span class="md-nav__icon md-icon"></span>
            utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_10_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/utils/algorithms/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    algorithms
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_10_1" id="__nav_8_1_10_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_10_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_10_1">
            <span class="md-nav__icon md-icon"></span>
            algorithms
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/algorithms/graph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    graph
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/constants/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    constants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/git_utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    git_utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/globals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    globals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/html_logger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    html_logger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/logging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    logging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/object_registry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    object_registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_10_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/utils/output/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    output
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_10_9" id="__nav_8_1_10_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_10_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_10_9">
            <span class="md-nav__icon md-icon"></span>
            output
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/output/citations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    citations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/output/printing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    printing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/output/status/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    status
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/pandas_utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pandas_utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/pydantic_utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pydantic_utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/system/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    system
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    types
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/vector_store/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    vector_store
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_11" id="__nav_8_1_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_11">
            <span class="md-nav__icon md-icon"></span>
            vector_store
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/vector_store/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/vector_store/chromadb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chromadb
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/vector_store/lancedb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lancedb
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/vector_store/meilisearch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    meilisearch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/vector_store/pineconedb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pineconedb
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/vector_store/postgres/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    postgres
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/vector_store/qdrantdb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    qdrantdb
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/vector_store/weaviatedb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    weaviatedb
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tools-plugins-function-calling" class="md-nav__link">
    <span class="md-ellipsis">
      Tools, plugins, function-calling
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-find-the-smallest-number-in-a-list" class="md-nav__link">
    <span class="md-ellipsis">
      Example: find the smallest number in a list
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-the-tool-as-a-toolmessage" class="md-nav__link">
    <span class="md-ellipsis">
      Define the tool as a ToolMessage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-the-chatagent-with-the-probe-method" class="md-nav__link">
    <span class="md-ellipsis">
      Define the ChatAgent, with the probe method
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enable-the-spy_game_agent-to-handle-the-probe-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Enable the spy_game_agent to handle the probe tool
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-up-the-task-and-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      Set up the task and instructions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      See also
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="a-chat-agent-equipped-with-a-toolfunction-call">A chat agent, equipped with a tool/function-call<a class="headerlink" href="#a-chat-agent-equipped-with-a-toolfunction-call" title="Permanent link">&para;</a></h1>
<div class="admonition tip">
<p class="admonition-title">Script in <code>langroid-examples</code></p>
<p>A full working example for the material in this section is
  in the <code>chat-agent-tool.py</code> script in the <code>langroid-examples</code> repo:
  <a href="https://github.com/langroid/langroid-examples/tree/main/examples/quick-start/chat-agent-tool.py"><code>examples/quick-start/chat-agent-tool.py</code></a>.</p>
</div>
<h2 id="tools-plugins-function-calling">Tools, plugins, function-calling<a class="headerlink" href="#tools-plugins-function-calling" title="Permanent link">&para;</a></h2>
<p>An LLM normally generates unstructured text in response to a prompt
(or sequence of prompts). However there are many situations where we would like the LLM
to generate <em>structured</em> text, or even <em>code</em>, that can be handled by specialized
functions outside the LLM, for further processing. 
In these situations, we want the LLM to "express" its "intent" unambiguously,
and we achieve this by instructing the LLM on how to format its output
(typically in JSON) and under what conditions it should generate such output.
This mechanism has become known by various names over the last few months
(tools, plugins, or function-calling), and is extremely useful in numerous scenarios,
such as:</p>
<ul>
<li><strong>Extracting structured information</strong> from a document: for example, we can use 
the tool/functions mechanism to have the LLM present the key terms in a lease document
in a JSON structured format, to simplify further processing. 
See an <a href="https://github.com/langroid/langroid-examples/blob/main/examples/docqa/chat_multi_extract.py">example</a> of this in the <code>langroid-examples</code> repo. </li>
<li><strong>Specialized computation</strong>: the LLM can request a units conversion, 
or request scanning a large file (which wouldn't fit into its context) for a specific
pattern.</li>
<li><strong>Code execution</strong>: the LLM can generate code that is executed in a sandboxed
environment, and the results of the execution are returned to the LLM.</li>
<li><strong>API Calls</strong>: the LLM can generate a JSON containing params for an API call,
  which the tool handler uses to make the call and return the results to the LLM.</li>
</ul>
<p>For LLM developers, Langroid provides a clean, uniform interface
for the recently released OpenAI <a href="https://platform.openai.com/docs/guides/gpt/function-calling">Function-calling</a>
as well Langroid's own native "tools" mechanism. The native tools mechanism is meant to be
used when working with non-OpenAI LLMs that do not have a "native" function-calling facility.
You can choose which to enable by setting the 
<code>use_tools</code> and <code>use_functions_api</code> flags in the <code>ChatAgentConfig</code> object.
(Or you can omit setting these, and langroid auto-selects the best mode
depending on the LLM).
The implementation leverages the excellent 
<a href="https://docs.pydantic.dev/latest/">Pydantic</a> library.
Benefits of using Pydantic are that you never have to write complex JSON specs 
for function calling, and when the LLM hallucinates malformed JSON, 
the Pydantic error message is sent back to the LLM so it can fix it!</p>
<h2 id="example-find-the-smallest-number-in-a-list">Example: find the smallest number in a list<a class="headerlink" href="#example-find-the-smallest-number-in-a-list" title="Permanent link">&para;</a></h2>
<p>Again we will use a simple number-game as a toy example to quickly and succinctly
illustrate the ideas without spending too much on token costs. 
This is a modification of the <code>chat-agent.py</code> example we saw in an earlier
<a href="../chat-agent/">section</a>. The idea of this single-agent game is that
the agent has in "mind" a list of numbers between 1 and 100, and the LLM has to
find out the smallest number from this list. The LLM has access to a <code>probe</code> tool 
(think of it as a function) that takes an argument <code>number</code>. When the LLM 
"uses" this tool (i.e. outputs a message in the format required by the tool),
the agent handles this structured message and responds with 
the number of values in its list that are at most equal to the <code>number</code> argument. </p>
<h2 id="define-the-tool-as-a-toolmessage">Define the tool as a <code>ToolMessage</code><a class="headerlink" href="#define-the-tool-as-a-toolmessage" title="Permanent link">&para;</a></h2>
<p>The first step is to define the tool, which we call <code>ProbeTool</code>,
as an instance of the <code>ToolMessage</code> class,
which is itself derived from Pydantic's <code>BaseModel</code>.
Essentially the <code>ProbeTool</code> definition specifies </p>
<ul>
<li>the name of the Agent method that handles the tool, in this case <code>probe</code></li>
<li>the fields that must be included in the tool message, in this case <code>number</code></li>
<li>the "purpose" of the tool, i.e. under what conditions it should be used, and what it does</li>
</ul>
<p>Here is what the <code>ProbeTool</code> definition looks like:
<div class="language-py highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">ProbeTool</span><span class="p">(</span><span class="n">lr</span><span class="o">.</span><span class="n">agent</span><span class="o">.</span><span class="n">ToolMessage</span><span class="p">):</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">request</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;probe&quot;</span> <span class="c1">#(1)!</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">purpose</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot; </span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="s2">        To find which number in my list is closest to the &lt;number&gt; you specify</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="s2">        &quot;&quot;&quot;</span> <span class="c1">#(2)!</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="c1">#(3)!</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="nd">@classmethod</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">examples</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span> <span class="c1">#(4)!</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        <span class="c1"># Compiled to few-shot examples sent along with the tool instructions.</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>        <span class="k">return</span> <span class="p">[</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>            <span class="bp">cls</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>            <span class="p">(</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>                <span class="s2">&quot;To find which number is closest to 20&quot;</span><span class="p">,</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>                <span class="bp">cls</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="mi">20</span><span class="p">),</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>            <span class="p">)</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>        <span class="p">]</span>
</span></code></pre></div></p>
<ol>
<li>This indicates that the agent's <code>probe</code> method will handle this tool-message.</li>
<li>The <code>purpose</code> is used behind the scenes to instruct the LLM</li>
<li><code>number</code> is a required argument of the tool-message (function)</li>
<li>You can optionally include a class method that returns a list containing examples, 
   of two types: either a class instance, or a tuple consisting of a description and a 
   class instance, where the description is the "thought" that leads the LLM to use the
   tool. In some scenarios this can help with LLM tool-generation accuracy.</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Stateless tool handlers</p>
<p>The above <code>ProbeTool</code> is "stateful", i.e. it requires access to a variable in
  the Agent instance (the <code>numbers</code> variable). This is why handling this 
  tool-message requires subclassing the <code>ChatAgent</code> and defining a special method 
  in the Agent, with a name matching the value of the <code>request</code> field of the Tool 
  (<code>probe</code> in this case). However you may often define "stateless tools" which 
  don't require access to the Agent's state. For such tools, you can define a 
  handler method right in the <code>ToolMessage</code> itself, with a name <code>handle</code>. Langroid 
  looks for such a method in the <code>ToolMessage</code> and automatically inserts it into 
  the Agent as a method with name matching the <code>request</code> field of the Tool. Examples of
  stateless tools include tools for numerical computation 
  (e.g., in <a href="https://langroid.github.io/langroid/examples/agent-tree/">this example</a>),
  or API calls (e.g. for internet search, see 
  <a class="autorefs autorefs-internal" href="../../reference/agent/tools/duckduckgo_search_tool/#langroid.agent.tools.duckduckgo_search_tool.DuckduckgoSearchTool">DuckDuckGoSearch Tool</a>).</p>
</div>
<h2 id="define-the-chatagent-with-the-probe-method">Define the ChatAgent, with the <code>probe</code> method<a class="headerlink" href="#define-the-chatagent-with-the-probe-method" title="Permanent link">&para;</a></h2>
<p>As before we first create a <code>ChatAgentConfig</code> object:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">config</span> <span class="o">=</span> <span class="n">lr</span><span class="o">.</span><span class="n">ChatAgentConfig</span><span class="p">(</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Spy&quot;</span><span class="p">,</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    <span class="n">llm</span> <span class="o">=</span> <span class="n">lr</span><span class="o">.</span><span class="n">language_models</span><span class="o">.</span><span class="n">OpenAIGPTConfig</span><span class="p">(</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>        <span class="n">chat_model</span><span class="o">=</span><span class="n">lr</span><span class="o">.</span><span class="n">language_models</span><span class="o">.</span><span class="n">OpenAIChatModel</span><span class="o">.</span><span class="n">GPT4o</span><span class="p">,</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    <span class="p">),</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    <span class="n">use_tools</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="c1">#(1)!</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    <span class="n">use_functions_api</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1">#(2)!</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    <span class="n">vecdb</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="p">)</span>
</span></code></pre></div>
<ol>
<li>whether to use langroid's native tools mechanism</li>
<li>whether to use OpenAI's function-calling mechanism</li>
</ol>
<p>Next we define the Agent class itself, which we call <code>SpyGameAgent</code>,
with a member variable to hold its "secret" list of numbers.
We also add <code>probe</code> method (to handle the <code>ProbeTool</code> message)
to this class, and instantiate it:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">SpyGameAgent</span><span class="p">(</span><span class="n">lr</span><span class="o">.</span><span class="n">ChatAgent</span><span class="p">):</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">lr</span><span class="o">.</span><span class="n">ChatAgentConfig</span><span class="p">):</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">90</span><span class="p">]</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">probe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="n">ProbeTool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span> <span class="c1">#(1)!</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>        <span class="c1"># return how many values in self.numbers are less or equal to msg.number</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">([</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">numbers</span> <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="n">msg</span><span class="o">.</span><span class="n">number</span><span class="p">]))</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="n">spy_game_agent</span> <span class="o">=</span> <span class="n">SpyGameAgent</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
</span></code></pre></div>
<ol>
<li>Note that this method name exactly matches the value of the <code>request</code> field in the 
   <code>ProbeTool</code> definition. This ensures that this method is called when the LLM 
   generates a valid <code>ProbeTool</code> message.</li>
</ol>
<h2 id="enable-the-spy_game_agent-to-handle-the-probe-tool">Enable the <code>spy_game_agent</code> to handle the <code>probe</code> tool<a class="headerlink" href="#enable-the-spy_game_agent-to-handle-the-probe-tool" title="Permanent link">&para;</a></h2>
<p>The final step in setting up the tool is to enable 
the <code>spy_game_agent</code> to handle the <code>probe</code> tool:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">spy_game_agent</span><span class="o">.</span><span class="n">enable_message</span><span class="p">(</span><span class="n">ProbeTool</span><span class="p">)</span>
</span></code></pre></div>
<h2 id="set-up-the-task-and-instructions">Set up the task and instructions<a class="headerlink" href="#set-up-the-task-and-instructions" title="Permanent link">&para;</a></h2>
<p>We set up the task for the <code>spy_game_agent</code> and run it:</p>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">task</span> <span class="o">=</span> <span class="n">lr</span><span class="o">.</span><span class="n">Task</span><span class="p">(</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>   <span class="n">spy_game_agent</span><span class="p">,</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>   <span class="n">system_message</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="s2">            I have a list of numbers between 1 and 100. </span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="s2">            Your job is to find the smallest of them.</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="s2">            To help with this, you can give me a number and I will</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="s2">            tell you how many of my numbers are equal or less than your number.</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="s2">            Once you have found the smallest number,</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="s2">            you can say DONE and report your answer.</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="s2">        &quot;&quot;&quot;</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="p">)</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="n">task</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></code></pre></div>
Notice that in the task setup we 
have <em>not</em> explicitly instructed the LLM to use the <code>probe</code> tool.
But this is done "behind the scenes", either by the OpenAI API 
(when we use function-calling by setting the <code>use_functions_api</code> flag to <code>True</code>),
or by Langroid's native tools mechanism (when we set the <code>use_tools</code> flag to <code>True</code>).</p>
<div class="admonition note">
<p class="admonition-title">Asynchoronous tool handlers</p>
<p>If you run task asynchronously - i.e. via <code>await task.run_async()</code> - you may provide
  asynchronous tool handler by implementing <code>probe_async</code> method.</p>
</div>
<p>See the <a href="https://github.com/langroid/langroid-examples/blob/main/examples/quick-start/chat-agent-tool.py"><code>chat-agent-tool.py</code></a>
in the <code>langroid-examples</code> repo, for a working example that you can run as follows:
<div class="language-sh highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>python3<span class="w"> </span>examples/quick-start/chat-agent-tool.py
</span></code></pre></div></p>
<p>Here is a screenshot of the chat in action, using Langroid's tools mechanism</p>
<p><img alt="chat-agent-tool.png" src="../chat-agent-tool.png" /></p>
<p>And if we run it with the <code>-f</code> flag (to switch to using OpenAI function-calling):</p>
<p><img alt="chat-agent-fn.png" src="../chat-agent-fn.png" /></p>
<h2 id="see-also">See also<a class="headerlink" href="#see-also" title="Permanent link">&para;</a></h2>
<p>One of the uses of tools/function-calling is to <strong>extract structured information</strong> from 
a document. In the <code>langroid-examples</code> repo, there are two examples of this: </p>
<ul>
<li><a href="https://github.com/langroid/langroid-examples/blob/main/examples/extract/chat.py"><code>examples/extract/chat.py</code></a>, 
  which shows how to extract Machine Learning model quality information from a description of 
  a solution approach on Kaggle.</li>
<li><a href="https://github.com/langroid/langroid-examples/blob/main/examples/docqa/chat_multi_extract.py"><code>examples/docqa/chat_multi_extract.py</code></a>
  which extracts key terms from a commercial lease document, in a nested JSON format.</li>
</ul>
<h2 id="next-steps">Next steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<p>In the <a href="../three-agent-chat-num/">3-agent chat example</a>, recall that the <code>processor_agent</code> did not have to
bother with specifying who should handle the current number. In the <a href="../three-agent-chat-num-router/">next section</a> we add a twist to this game,
so that the <code>processor_agent</code> has to decide who should handle the current number.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "toc", "content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f13b1293.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>